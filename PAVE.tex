\section{Coupling Scientific Visualization and Machine Learning}
 
PAVE couples visualization and machine learning through an in-situ framework. The resulting solution consists of two core components, visualization output and learning. PAVE then allows each task to communicate results among each other seamlessly. The scientific visualisation task developed by the user can then provide resulting visualisations to a separately developed learning model as input or employ a learning model within the visualisation task.  
    
\subsection{User Provided Visualisation}

The results for the scalable, in-situ scientific visualization task designed by the user, are passed to a learning model through a single interface and the visualization can remain fully scalable to distributed systems because of PAVE. For this same reason in the provided example in section \ref{ex} we chose VTK-m arrays as the data structures of the visualisation task.

\setminted{fontsize=\footnotesize,baselinestretch=1} 
\noindent\rule{0.5\textwidth}{1pt}
\inputminted{cpp}{pave_pt.py}\label{PAVEvis}
%\inputminted{python}{adiosdataloader.py}
\noindent\rule{0.5\textwidth}{1pt}

The code example  demonstrates the visualisation component in our solution. The user is able to open or generate visualisation data to be saved or sent to other processes. A variable name is assigned to 

\subsection{User Defined Machine Learning Application}

PAVE allows researchers or practitioners to implement their learning algorithms in the increasingly popular language Python due to having a robust library for learning tasks and notably neural networks. 

\noindent\rule{0.5\textwidth}{1pt}\label{PAVElearn}
\inputminted{python}{pave.py}
%\inputminted{python}{adiosdataloader.py}
\noindent\rule{0.5\textwidth}{1pt}

Above we demonstrate employing PAVE while training a PyTorch model. The training method for Model is able to request visualisation samples used during training based on some parameter used in the visualisation task or retrieve precomputed visualisation data by calling PAVE.
 
\subsection{Communication of Visualisation Data and Learning}

As demonstrated in Section~\ref{PAVEvis} and PAVE allows for the user to save or pass data produced by the simulation and similarly the user would also be able to request results from the learning model depending on the application. Section \ref{PAVElearn} demonstrates PAVE's support in requesting data in place from the user's visualization implementation during training of a predictive model used as example. 
